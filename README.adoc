= Antora Mermaid Extension

This extension visualizes https://docs.asciidoctor.org/asciidoc/latest/verbatim/listing-blocks/[Listing Blocks] and https://docs.asciidoctor.org/asciidoc/latest/verbatim/literal-blocks/[Literal Blocks] of https://mermaid-js.github.io/mermaid/#/[Mermaid] on HTML files.

.Example of Mermaid Literal Block
[source,asciidoc]
.....
[mermaid]
....
sequenceDiagram
autonumber

participant a as Alice
participant b as Bob

a ->>+ b : Hello
b -->>- a : Hi, there.
....
.....

Better privacy::
This extension uses `mermaid.min.js` to render Mermaid diagram.
So the diagram texts won't be sent to anywhere to create image files.

== Configuration

=== npm

Install this extension

[source, bash]
----
npm i -D @sntke/antora-mermaid-extension
----

=== Playbook

Append following

.Code fragment of playbook YAML.
[source,yaml]
----
antora:
  extensions:
    - require: '@sntke/antora-mermaid-extension' # <1>
      mermaid_library_url: https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js # <2>
      script_stem: header-scripts # <3>
----
<1> `npm` package name: `@sntke/antora-mermaid-extension` (required)
<2> URL of Mermaid.js library (optional, default value is shown)
<3> Stem that exists in the handlebar templates of UI bundle where HTML script element for `mermaid.js` is placed. (optional, default value is shown)

